package com.example.demo.controller;

import com.example.demo.domain.User;
import com.example.demo.service.UserService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/user")
public class UserController {

        @Autowired
        private UserService userService;

        @RequestMapping("/{id}")
        public String getById(@PathVariable Long id, Model model){
            User user = userService.getUserById(id);
            model.addAttribute("user",user);
            return "user";
        }

        @RequestMapping("/save")
        public String createUser(){
            User user = new User("Test","test","test@mail.com","12421");
            userService.saveUser(user);
            return "User created";
        }

        @RequestMapping("/add")
        public String addUser(@RequestParam String name, @RequestParam String surname){
            User user = new User();
            user.setName(name);
            user.setSurname(surname);
            user.setEmail("test@mail.com");
            user.setPassword("1241251");
            userService.saveUser(user);
            return "User added";
        }

        @RequestMapping("/delete/{id}")
        public String deleteUser(@PathVariable Long id){
            userService.deleteUser(id);
            return "User deleted";
        }
}






























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































